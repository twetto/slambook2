# 第五講: 相機與圖像

這一講的內容我其實很熟了，所以這個筆記主要是我個人的一些碎念，正經的筆記會比較少。

## 相機模型

### 針孔相機模型

### 畸變模型

### 雙目相機模型

### RGB-D 相機模型

## 圖像

## 實踐環節

### OpenCV 基本

### 圖像去畸變

## 實踐：3D 視覺

### 雙目視覺

### RGB-D 視覺

## 習題

**尋找一部相機，標定它的內參。你可能會用到標定版，或者自己打印一張標定用的棋盤格。**

A: 如果照著本講的介紹，這裡應該會用OpenCV的標定方式。不過OpenCV並沒有聯合IMU做外參的方式，也沒有標定雙目相機外參的方式，所以平常我都用[kalibr](https://github.com/ethz-asl/kalibr)。這題我們跳過，因為實驗室的相機都是我標定的，嘿嘿。

**敘述相機內參的物理意義。如果一部相機的解析變為原來的兩倍而其他不變，那它的內參將如何變化？**

A: 內參主要由像素焦點位置、像素焦距、畸變參數組成。三維空間投影到歸一化平面的過程中，焦點位置表示鏡頭與感光元件的錯位程度、焦距決定視角大小、畸變參數描述鏡頭從原始投影到針孔模型間的關係。若相機的解析變為原本兩倍，則焦點位置跟焦距都變為兩倍，但畸變參數是不變的。

**搜索特殊相機(魚眼或全景相機)的標定方法。它們與普通的針孔模型有何不同？**

A: 若相機視野大於180度，普通的針孔模型就無法描述它們了。我們通常需要引入額外的參數，像是全景或雙球面模型。這些模型的reference可以在[kalibr的「支援的模型」](https://github.com/ethz-asl/kalibr/wiki/supported-models)找到。

**全局快門與捲簾快門相機的異同。它們在SLAM中有何優缺點？**

A: 一般的相機都是捲簾快門居多，感光元件的曝光時序是一個一個像素曝過去的，會有些微的時間差，而全局快門就不會有時間差。通常這個時間差會在相機移動快速的時候明顯，像是果凍現象，而一般的SLAM算法因為刻意忽略這件事，精度會隨著相機速度越來越下降。進階一點的算法會額外考慮這種時間差，不過對電腦的負擔就會比較大。我的作法是找一台便宜的全局快門相機，大概兩三千塊搞定的程度。

**RGB-D 相機是如何標定的？**

A: 首先標定RGB相機的內參，再來標定深度相機的內參跟外參。可惜的是，內參跟外參互相依賴對方，所以兩者必須同時標定。具體細節可參考[這篇論文](https://arxiv.org/abs/1701.05748)。

**除了示例程序演示的遍歷方式，你還能舉出哪些遍歷圖像的方法？**

A: 官方推薦使用`at()`。會比用指標安全一些。

